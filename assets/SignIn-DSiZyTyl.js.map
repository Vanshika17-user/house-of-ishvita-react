{"version":3,"file":"SignIn-DSiZyTyl.js","sources":["../../src/pages/SignIn.tsx"],"sourcesContent":["// Authentication: Sign In Page with Form Validation\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst SignIn = () => {\r\n  const [isSignUp, setIsSignUp] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n  });\r\n  const [errors, setErrors] = useState({\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n    general: '',\r\n  });\r\n  \r\n  const { login, signup } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  // Form Validation\r\n  const validateEmail = (email: string) => {\r\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return re.test(email);\r\n  };\r\n  \r\n  const validateForm = () => {\r\n    const newErrors = { email: '', password: '', name: '', general: '' };\r\n    let isValid = true;\r\n    \r\n    if (!formData.email) {\r\n      newErrors.email = 'Email is required';\r\n      isValid = false;\r\n    } else if (!validateEmail(formData.email)) {\r\n      newErrors.email = 'Invalid email format';\r\n      isValid = false;\r\n    }\r\n    \r\n    if (!formData.password) {\r\n      newErrors.password = 'Password is required';\r\n      isValid = false;\r\n    } else if (formData.password.length < 6) {\r\n      newErrors.password = 'Password must be at least 6 characters';\r\n      isValid = false;\r\n    }\r\n    \r\n    if (isSignUp && !formData.name) {\r\n      newErrors.name = 'Name is required';\r\n      isValid = false;\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return isValid;\r\n  };\r\n  \r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      if (isSignUp) {\r\n        await signup(formData.email, formData.password, formData.name);\r\n        alert('Account created successfully! Welcome to House of Ishvita!');\r\n      } else {\r\n        await login(formData.email, formData.password);\r\n        alert('Welcome back!');\r\n      }\r\n      navigate('/');\r\n    } catch (error: any) {\r\n      console.error('Authentication error:', error);\r\n      setErrors({\r\n        ...errors,\r\n        general: error.message || 'Authentication failed. Please try again.',\r\n      });\r\n    }\r\n  };\r\n  \r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    // Clear error when user starts typing\r\n    setErrors({\r\n      ...errors,\r\n      [e.target.name]: '',\r\n    });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"pt-20 min-h-screen bg-background flex items-center justify-center px-4\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl p-8 md:p-12 max-w-md w-full\">\r\n        <h1 className=\"text-4xl font-bold text-center text-secondary mb-8\">\r\n          {isSignUp ? 'Create Account' : 'Welcome Back'}\r\n        </h1>\r\n        \r\n        {errors.general && (\r\n          <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg\" role=\"alert\">\r\n            {errors.general}\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {isSignUp && (\r\n            <div>\r\n              <label htmlFor=\"name\" className=\"block text-sm font-semibold text-textDark mb-2\">\r\n                Full Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                placeholder=\"Enter your name\"\r\n                aria-label=\"Full Name\"\r\n                aria-required=\"true\"\r\n              />\r\n              {errors.name && (\r\n                <p className=\"text-red-500 text-sm mt-1\" role=\"alert\">{errors.name}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-semibold text-textDark mb-2\">\r\n              Email Address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\r\n              placeholder=\"Enter your email\"\r\n              aria-label=\"Email Address\"\r\n              aria-required=\"true\"\r\n            />\r\n            {errors.email && (\r\n              <p className=\"text-red-500 text-sm mt-1\" role=\"alert\">{errors.email}</p>\r\n            )}\r\n          </div>\r\n          \r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-semibold text-textDark mb-2\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\r\n              placeholder=\"Enter your password\"\r\n              aria-label=\"Password\"\r\n              aria-required=\"true\"\r\n            />\r\n            {errors.password && (\r\n              <p className=\"text-red-500 text-sm mt-1\" role=\"alert\">{errors.password}</p>\r\n            )}\r\n          </div>\r\n          \r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full px-6 py-4 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-semibold text-lg\"\r\n          >\r\n            {isSignUp ? 'Sign Up' : 'Sign In'}\r\n          </button>\r\n        </form>\r\n        \r\n        <div className=\"mt-6 text-center\">\r\n          <button\r\n            onClick={() => setIsSignUp(!isSignUp)}\r\n            className=\"text-primary hover:text-secondary transition-colors font-medium\"\r\n          >\r\n            {isSignUp\r\n              ? 'Already have an account? Sign In'\r\n              : \"Don't have an account? Sign Up\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"],"names":["SignIn","isSignUp","setIsSignUp","useState","formData","setFormData","errors","setErrors","login","signup","useAuth","navigate","useNavigate","validateEmail","email","validateForm","newErrors","isValid","handleSubmit","e","error","handleChange","jsxs","jsx"],"mappings":"+FAKA,MAAMA,EAAS,IAAM,CACnB,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAK,EACxC,CAACC,EAAUC,CAAW,EAAIF,WAAS,CACvC,MAAO,GACP,SAAU,GACV,KAAM,EAAA,CACP,EACK,CAACG,EAAQC,CAAS,EAAIJ,WAAS,CACnC,MAAO,GACP,SAAU,GACV,KAAM,GACN,QAAS,EAAA,CACV,EAEK,CAAE,MAAAK,EAAO,OAAAC,CAAA,EAAWC,EAAA,EACpBC,EAAWC,EAAA,EAGXC,EAAiBC,GACV,6BACD,KAAKA,CAAK,EAGhBC,EAAe,IAAM,CACzB,MAAMC,EAAY,CAAE,MAAO,GAAI,SAAU,GAAI,KAAM,GAAI,QAAS,EAAA,EAChE,IAAIC,EAAU,GAEd,OAAKb,EAAS,MAGFS,EAAcT,EAAS,KAAK,IACtCY,EAAU,MAAQ,uBAClBC,EAAU,KAJVD,EAAU,MAAQ,oBAClBC,EAAU,IAMPb,EAAS,SAGHA,EAAS,SAAS,OAAS,IACpCY,EAAU,SAAW,yCACrBC,EAAU,KAJVD,EAAU,SAAW,uBACrBC,EAAU,IAMRhB,GAAY,CAACG,EAAS,OACxBY,EAAU,KAAO,mBACjBC,EAAU,IAGZV,EAAUS,CAAS,EACZC,CACT,EAEMC,EAAe,MAAOC,GAAuB,CAGjD,GAFAA,EAAE,eAAA,EAEE,EAACJ,IAIL,GAAI,CACEd,GACF,MAAMQ,EAAOL,EAAS,MAAOA,EAAS,SAAUA,EAAS,IAAI,EAC7D,MAAM,4DAA4D,IAElE,MAAMI,EAAMJ,EAAS,MAAOA,EAAS,QAAQ,EAC7C,MAAM,eAAe,GAEvBO,EAAS,GAAG,CACd,OAASS,EAAY,CACnB,QAAQ,MAAM,wBAAyBA,CAAK,EAC5Cb,EAAU,CACR,GAAGD,EACH,QAASc,EAAM,SAAW,0CAAA,CAC3B,CACH,CACF,EAEMC,EAAgBF,GAA2C,CAC/Dd,EAAY,CACV,GAAGD,EACH,CAACe,EAAE,OAAO,IAAI,EAAGA,EAAE,OAAO,KAAA,CAC3B,EAEDZ,EAAU,CACR,GAAGD,EACH,CAACa,EAAE,OAAO,IAAI,EAAG,EAAA,CAClB,CACH,EAEA,aACG,MAAA,CAAI,UAAU,yEACb,SAAAG,EAAAA,KAAC,MAAA,CAAI,UAAU,8DACb,SAAA,CAAAC,MAAC,KAAA,CAAG,UAAU,qDACX,SAAAtB,EAAW,iBAAmB,eACjC,EAECK,EAAO,SACNiB,MAAC,MAAA,CAAI,UAAU,oEAAoE,KAAK,QACrF,SAAAjB,EAAO,OAAA,CACV,EAGFgB,EAAAA,KAAC,OAAA,CAAK,SAAUJ,EAAc,UAAU,YACrC,SAAA,CAAAjB,UACE,MAAA,CACC,SAAA,CAAAsB,MAAC,QAAA,CAAM,QAAQ,OAAO,UAAU,iDAAiD,SAAA,YAEjF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,OACH,KAAK,OACL,MAAOnB,EAAS,KAChB,SAAUiB,EACV,UAAU,wGACV,YAAY,kBACZ,aAAW,YACX,gBAAc,MAAA,CAAA,EAEff,EAAO,MACNiB,MAAC,IAAA,CAAE,UAAU,4BAA4B,KAAK,QAAS,SAAAjB,EAAO,IAAA,CAAK,CAAA,EAEvE,SAGD,MAAA,CACC,SAAA,CAAAiB,MAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,iDAAiD,SAAA,gBAElF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,GAAG,QACH,KAAK,QACL,MAAOnB,EAAS,MAChB,SAAUiB,EACV,UAAU,wGACV,YAAY,mBACZ,aAAW,gBACX,gBAAc,MAAA,CAAA,EAEff,EAAO,OACNiB,MAAC,IAAA,CAAE,UAAU,4BAA4B,KAAK,QAAS,SAAAjB,EAAO,KAAA,CAAM,CAAA,EAExE,SAEC,MAAA,CACC,SAAA,CAAAiB,MAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,iDAAiD,SAAA,WAErF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,GAAG,WACH,KAAK,WACL,MAAOnB,EAAS,SAChB,SAAUiB,EACV,UAAU,wGACV,YAAY,sBACZ,aAAW,WACX,gBAAc,MAAA,CAAA,EAEff,EAAO,UACNiB,MAAC,IAAA,CAAE,UAAU,4BAA4B,KAAK,QAAS,SAAAjB,EAAO,QAAA,CAAS,CAAA,EAE3E,EAEAiB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,+GAET,WAAW,UAAY,SAAA,CAAA,CAC1B,EACF,EAEAA,EAAAA,IAAC,MAAA,CAAI,UAAU,mBACb,SAAAA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMrB,EAAY,CAACD,CAAQ,EACpC,UAAU,kEAET,WACG,mCACA,gCAAA,CAAA,CACN,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}